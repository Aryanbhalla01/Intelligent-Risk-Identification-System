<!DOCTYPE html>
<html>
<head>
  <title>IRIS Safety App</title>
  <style>
    body { font-family: Arial; text-align: center; margin-top: 60px; }
    button { padding: 15px 25px; font-size: 18px; margin: 10px; }
    input { padding: 10px; margin: 5px; }
  </style>
</head>
<body>

<h1>IRIS â€“ Intelligent Risk Identification for Safety</h1>

<input type="text" id="name" placeholder="Enter your name"><br>
<input type="text" id="location" placeholder="Enter your location"><br>

<button onclick="sendAlert()">ðŸš¨ Emergency Alert</button>

<script>
function sendAlert() {
  const name = document.getElementById("name").value;
  const location = document.getElementById("location").value;

  fetch("https://https://iris-w99r.onrender.com/emergency", {
    method: "POST",
    headers: {
      "Content-Type": "application/json"
    },
    body: JSON.stringify({ name, location })
  })
  .then(res => res.text())
  .then(data => alert(data))
  .catch(err => alert("Error sending alert"));
}

// ðŸŽ¤ Voice Command Feature
const recognition = new (window.SpeechRecognition || window.webkitSpeechRecognition)();
recognition.continuous = true;

recognition.onresult = function(event) {
  const transcript = event.results[event.results.length - 1][0].transcript.trim().toLowerCase();

  if (transcript.includes("help me") || transcript.includes("emergency")) {
    alert("Voice command detected! Sending emergency alert...");
    sendAlert();
  }
};

function startVoice() {
  recognition.start();
  alert("Voice recognition started. Say 'Help me' to trigger alert.");
}
</script>

</body>
</html>
